<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pigeon Environmental Analysis</title>
    <style>
        body { 
            background: #0f1419; 
            color: #ffffff; 
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        .article-container {
            max-width: 800px;
            margin: 0 auto;
            background: #1a1f2e;
            padding: 30px;
            border-radius: 8px;
            border: 2px solid #00ff88;
        }
        h1, h2, h3 {
            color: #00ff88;
        }
        .chart-container {
            background: #000;
            padding: 20px;
            border-radius: 4px;
            margin: 20px 0;
            text-align: center;
        }
        canvas {
            display: block;
            margin: 0 auto;
        }
        ul {
            padding-left: 20px;
        }
        .data-section {
            background: #2a2f3e;
            padding: 20px;
            border-radius: 4px;
            margin: 20px 0;
            border-left: 4px solid #00ff88;
        }
        .note {
            background: #3a3f4e;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="article-container">
        <h1 id="article-title">üê¶ Why Pigeons Are Scary: An Environmental Analysis</h1>
        
        <div class="note">
            <strong>Note for Data Analysts:</strong> This is a template article. You can modify the data, add new visualizations, or create entirely new articles using the same structure. Check the <code>analysis.js</code> file to see how to extend the data and visualizations.
        </div>
        
        <h2>Executive Summary</h2>
        <p id="executive-summary">Through extensive data analysis, we have discovered that pigeons pose a significant threat to our digital infrastructure and environmental sustainability.</p>
        
        <h2>Key Findings</h2>
        <ul id="key-findings">
            <li><strong>Power Line Interference:</strong> Pigeons cause 15% of urban power outages</li>
            <li><strong>Data Center Cooling:</strong> Pigeon nests block 23% of cooling vents</li>
            <li><strong>Solar Panel Efficiency:</strong> Pigeon droppings reduce solar efficiency by 8%</li>
        </ul>
        
        <h2>Data Visualization</h2>
        <div class="chart-container">
            <canvas id="pigeonChart" width="500" height="300"></canvas>
        </div>
        
        <div id="python-status" class="data-section">
            <p>‚è≥ Loading Python analysis results...</p>
        </div>
        
        <div class="data-section">
            <h3>üêç Python-First Analysis</h3>
            <p>This article is powered by Python analysis. Here's how it works:</p>
            <ol>
                <li><strong>Python Analysis:</strong> Run <code>python analyze_pigeons.py</code> to generate data</li>
                <li><strong>Automatic Charts:</strong> Python creates professional matplotlib visualizations</li>
                <li><strong>Web Integration:</strong> Results automatically display on this webpage</li>
                <li><strong>Real Analysis:</strong> Replace mock data with actual environmental statistics</li>
            </ol>
            <p><strong>For Data Analysts:</strong> Modify <code>analyze_pigeons.py</code> with real environmental data. Your Python skills from the onboarding tutorial apply directly here!</p>
            
            <h4>üõ†Ô∏è How to Use:</h4>
            <pre style="background: #000; padding: 15px; border-radius: 4px; color: #00ff88;">
cd content/articles/pigeon-analysis/
pip install -r requirements.txt
python analyze_pigeons.py</pre>
        </div>
        
        <h2>Methodology</h2>
        <p id="methodology">Data collected from 500 urban locations over 12 months. Statistical analysis performed using Python pandas and matplotlib.</p>
        
        <div class="data-section">
            <h3>üîó Integration with Game</h3>
            <p>This article shares data constants with the Pigeon Tracker game, ensuring consistency between interactive experience and data analysis. The game demonstrates real-time monitoring while this article provides the statistical foundation.</p>
        </div>
        
        <h2>Future Research</h2>
        <p>Areas for expansion:</p>
        <ul>
            <li>Real-time pigeon tracking using IoT sensors</li>
            <li>Seasonal variations in pigeon impact</li>
            <li>Cost-benefit analysis of pigeon deterrent systems</li>
            <li>Correlation with urban technology density</li>
        </ul>
        
        <div class="note">
            <strong>Template Usage:</strong> Replace this satirical pigeon analysis with real environmental data about AI and computing impact. The structure and visualizations are ready for serious environmental analysis.
        </div>
    </div>

    <script>
        // Load Python-generated analysis data
        async function loadPythonAnalysis() {
            try {
                const response = await fetch('output/analysis_data.json');
                const analysisData = await response.json();
                
                // Update page with Python results
                updatePageWithPythonData(analysisData);
                
                console.log('Python analysis data loaded:', analysisData);
            } catch (error) {
                console.error('Failed to load Python analysis:', error);
                // Fallback to static content if Python data not available
                document.getElementById('python-status').innerHTML = 
                    '<p style="color: orange;">‚ö†Ô∏è Python analysis not run yet. Run <code>python analyze_pigeons.py</code> to generate data.</p>';
            }
        }
        
        function updatePageWithPythonData(analysisData) {
            // Update statistics
            if (analysisData.statistics) {
                const stats = analysisData.statistics;
                document.getElementById('python-status').innerHTML = `
                    <div style="background: #2a4a2a; padding: 10px; border-radius: 4px; color: #4ade80;">
                        ‚úÖ <strong>Python Analysis Complete</strong><br>
                        üìä Total Impact: ${stats.total_impact_points}%<br>
                        üéØ Highest Impact: ${stats.highest_impact}<br>
                        üìÖ Analysis Date: ${new Date(stats.analysis_date).toLocaleDateString()}
                    </div>
                `;
            }
            
            // Update findings with actual data
            if (analysisData.data) {
                const findings = document.getElementById('key-findings');
                findings.innerHTML = analysisData.data.map(item => 
                    `<li><strong>${item.impact_type}:</strong> ${item.percentage}% environmental impact</li>`
                ).join('');
            }
            
            // Show Python-generated charts
            const chartContainer = document.querySelector('.chart-container');
            chartContainer.innerHTML = `
                <h3>Python-Generated Visualizations</h3>
                <div style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
                    <div>
                        <h4>Bar Chart Analysis</h4>
                        <img src="output/impact_chart.png" alt="Impact Bar Chart" style="max-width: 100%; border-radius: 4px;">
                    </div>
                    <div>
                        <h4>Distribution Analysis</h4>
                        <img src="output/impact_pie.png" alt="Impact Pie Chart" style="max-width: 100%; border-radius: 4px;">
                    </div>
                </div>
                <p><strong>Charts generated by:</strong> <code>analyze_pigeons.py</code></p>
            `;
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            loadPythonAnalysis();
        });
    </script>
</body>
</html>